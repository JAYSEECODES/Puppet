"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[775],{1473:function(e,t,r){r.d(t,{default:function(){return a.a}});var n=r(7568),a=r.n(n)},7568:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let n=r(4981);r(5320),r(8978);let a=n._(r(6080));function o(e,t){var r;let n={loading:e=>{let{error:t,isLoading:r,pastDelay:n}=e;return null}};"function"==typeof e&&(n.loader=e);let o={...n,...t};return(0,a.default)({...o,modules:null==(r=o.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7208:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let n=r(8165);function a(e){let{reason:t,children:r}=e;if("undefined"==typeof window)throw new n.BailoutToCSRError(t);return r}},6080:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});let n=r(5320),a=r(8978),o=r(7208),i=r(7893);function s(e){return{default:e&&"default"in e?e.default:e}}let l={loader:()=>Promise.resolve(s(()=>null)),loading:null,ssr:!0},c=function(e){let t={...l,...e},r=(0,a.lazy)(()=>t.loader().then(s)),c=t.loading;function d(e){let s=c?(0,n.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,l=t.ssr?(0,n.jsxs)(n.Fragment,{children:["undefined"==typeof window?(0,n.jsx)(i.PreloadCss,{moduleIds:t.modules}):null,(0,n.jsx)(r,{...e})]}):(0,n.jsx)(o.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(r,{...e})});return(0,n.jsx)(a.Suspense,{fallback:s,children:l})}return d.displayName="LoadableComponent",d}},7893:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return o}});let n=r(5320),a=r(6334);function o(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let r=(0,a.getExpectedRequestStore)("next/dynamic css"),o=[];if(r.reactLoadableManifest&&t){let e=r.reactLoadableManifest;for(let r of t){if(!e[r])continue;let t=e[r].files.filter(e=>e.endsWith(".css"));o.push(...t)}}return 0===o.length?null:(0,n.jsx)(n.Fragment,{children:o.map(e=>(0,n.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:r.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},8571:function(e,t,r){r.d(t,{eT:function(){return y}});var n,a=r(8439),o=r(2943),i=(e,...t)=>{},s=class{info;warn;error;constructor(e){let{level:t}=e||{};if(this.error=console.error.bind(console),"none"===t&&(this.error=i,this.warn=i,this.info=i),"error"===t){this.warn=i,this.info=i;return}if(this.warn=console.warn.bind(console),"warn"===t){this.info=i;return}this.info=console.log.bind(console)}},l=((n=l||{}).get="entity",n.set="set_entity",n.entities="entities",n.execute="execute",n.registerSystem="register_system",n.registerComponent="register_model",n.model="model",n.system="system",n.metadataUri="metadata_uri",n.setMetadataUri="set_metadata_uri",n.registerModel="register_model",n.deployContract="deploy_contract",n.upgradeContract="upgrade_contract",n.uuid="uuid",n.emit="emit",n.entityIds="entity_ids",n.setExecutor="set_executor",n.executor="executor",n.base="base",n.deleteEntity="delete_entity",n.isOwner="is_owner",n.grantOwner="grant_owner",n.revokeOwner="revoke_owner",n.isWriter="is_writer",n.grantWriter="grant_writer",n.revokeWriter="revoke_writer",n),c=(e,t,r)=>e.contracts.find(e=>e.tag===t+"-"+r),d=(e,t,r)=>"contractName"in r?{contractAddress:c(e,t,r.contractName).address,calldata:r.calldata,entrypoint:r.entrypoint}:r,u=class{worldAddress;constructor(e){this.worldAddress=e}getWorldAddress(){return this.worldAddress}},y=class extends u{provider;contract;manifest;logger;constructor(e,t="http://localhost:5050",r="none"){super(e.world.address),this.provider=new a.Gf({nodeUrl:t}),this.contract=new a.CH(e.world.abi,this.getWorldAddress(),this.provider),this.manifest=e,this.logger=new s({level:r})}async entity(e,t,r=0,n=0,o){try{return await this.contract.call("entity",[a.lC.encodeShortString(e),t.length,...t,r,n,o.length,o])}catch(e){throw this.logger.error("Error occured: ",e),e}}async entities(e,t,r,n,o){try{return await this.contract.call("entities",[a.lC.encodeShortString(e),t,r,n,o])}catch(e){throw this.logger.error("Error occured: ",e),e}}async model(e){try{return await this.contract.call("model",[a.lC.encodeShortString(e)])}catch(e){throw this.logger.error("Error occured: ",e),e}}async uuid(){try{let e=await this.provider.callContract({contractAddress:this.getWorldAddress(),entrypoint:"uuid",calldata:[]});if(e&&1===e.length)return parseInt(e[0]);throw Error("Contract did not return expected uuid")}catch(e){throw this.logger.error(`Failed to fetch uuid: ${e}`),Error(`Failed to fetch uuid: ${e}`)}}async execute(e,t,r,n={}){let a=(Array.isArray(t)?t:[t]).map(e=>d(this.manifest,r,e));try{return await e?.execute(a,void 0,n)}catch(e){throw this.logger.error("Error occured: ",e),e}}async call(e,t){if(!("contractName"in t))return this.callRaw(e,t);try{let r=c(this.manifest,e,t.contractName),n=new a.CH(r.abi,r.address,this.provider);return await n.call(t.entrypoint,t.calldata)}catch(e){throw this.logger.error(`Failed to callContract ${t.contractName}: ${e}`),Error(`Failed to callContract ${t.contractName}: ${e}`)}}async callRaw(e,t){let r=d(this.manifest,e,t);try{return await this.provider.callContract(r)}catch(e){throw this.logger.error(`Failed to call ${r.contractAddress}: ${e}`),Error(`Failed to call ${r.contractAddress}: ${e}`)}}},z=o.z.union([o.z.object({type:o.z.literal("impl"),name:o.z.string(),interface_name:o.z.string()}),o.z.object({type:o.z.literal("struct"),name:o.z.string(),members:o.z.array(o.z.object({name:o.z.string(),type:o.z.string()}))}),o.z.object({type:o.z.literal("enum"),name:o.z.string(),variants:o.z.array(o.z.object({name:o.z.string(),type:o.z.string()}))}),o.z.object({type:o.z.literal("interface"),name:o.z.string(),items:o.z.array(o.z.object({type:o.z.literal("function"),name:o.z.string(),inputs:o.z.array(o.z.object({name:o.z.string(),type:o.z.string()})),outputs:o.z.array(o.z.object({type:o.z.string()})),state_mutability:o.z.string()}))}),o.z.object({type:o.z.literal("constructor"),name:o.z.string(),inputs:o.z.array(o.z.object({name:o.z.string(),type:o.z.string()}))}),o.z.object({type:o.z.literal("event"),name:o.z.string(),kind:o.z.literal("struct"),members:o.z.array(o.z.object({name:o.z.string(),type:o.z.string(),kind:o.z.string()}))}),o.z.object({type:o.z.literal("event"),name:o.z.string(),kind:o.z.literal("enum"),variants:o.z.array(o.z.object({name:o.z.string(),type:o.z.string(),kind:o.z.string()}))})]),g=o.z.object({class_hash:o.z.string(),name:o.z.string(),abi:o.z.array(z)}),f=g.extend({kind:o.z.literal("WorldContract"),address:o.z.string(),transaction_hash:o.z.string(),block_number:o.z.number(),seed:o.z.string(),metadata:o.z.object({rpc_url:o.z.string()})}),h=g.extend({kind:o.z.literal("Class"),abi:o.z.literal(null)}),m=g.extend({kind:o.z.literal("DojoContract"),address:o.z.string(),reads:o.z.array(o.z.unknown()),writes:o.z.array(o.z.unknown()),computed:o.z.array(o.z.unknown())}),p=g.extend({kind:o.z.literal("DojoModel"),members:o.z.array(o.z.object({name:o.z.string(),type:o.z.string(),key:o.z.boolean()}))});o.z.object({world:f,base:h,contracts:o.z.array(m),models:o.z.array(p)})}}]);