(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9013:function(e,t,a){Promise.resolve().then(a.bind(a,2736))},551:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let n=a(1609);a(7437),a(2265);let r=n._(a(148));function s(e,t){var a;let n={loading:e=>{let{error:t,isLoading:a,pastDelay:n}=e;return null}};"function"==typeof e&&(n.loader=e);let s={...n,...t};return(0,r.default)({...s,modules:null==(a=s.loadableGenerated)?void 0:a.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},912:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return r}});let n=a(5592);function r(e){let{reason:t,children:a}=e;if("undefined"==typeof window)throw new n.BailoutToCSRError(t);return a}},148:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let n=a(7437),r=a(2265),s=a(912),c=a(1481);function l(e){return{default:e&&"default"in e?e.default:e}}let i={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},o=function(e){let t={...i,...e},a=(0,r.lazy)(()=>t.loader().then(l)),o=t.loading;function d(e){let l=o?(0,n.jsx)(o,{isLoading:!0,pastDelay:!0,error:null}):null,i=t.ssr?(0,n.jsxs)(n.Fragment,{children:["undefined"==typeof window?(0,n.jsx)(c.PreloadCss,{moduleIds:t.modules}):null,(0,n.jsx)(a,{...e})]}):(0,n.jsx)(s.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(a,{...e})});return(0,n.jsx)(r.Suspense,{fallback:l,children:i})}return d.displayName="LoadableComponent",d}},1481:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return s}});let n=a(7437),r=a(8512);function s(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let a=(0,r.getExpectedRequestStore)("next/dynamic css"),s=[];if(a.reactLoadableManifest&&t){let e=a.reactLoadableManifest;for(let a of t){if(!e[a])continue;let t=e[a].files.filter(e=>e.endsWith(".css"));s.push(...t)}}return 0===s.length?null:(0,n.jsx)(n.Fragment,{children:s.map(e=>(0,n.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:a.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},2736:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var n=a(7437),r=a(2265),s=a(551),c=a.n(s),l=a(718),i=a(4624);let o=[{type:"impl",name:"HelloStarknetImpl",interface_name:"workshop_frontend::IHelloStarknet"},{type:"struct",name:"core::integer::u256",members:[{name:"low",type:"core::integer::u128"},{name:"high",type:"core::integer::u128"}]},{type:"interface",name:"workshop_frontend::IHelloStarknet",items:[{type:"function",name:"increase_balance",inputs:[{name:"amount",type:"core::integer::u256"}],outputs:[],state_mutability:"external"},{type:"function",name:"get_balance",inputs:[],outputs:[{type:"core::integer::u256"}],state_mutability:"view"},{type:"function",name:"reset_balance",inputs:[],outputs:[],state_mutability:"external"}]},{type:"event",name:"workshop_frontend::HelloStarknet::BalanceIncreased",kind:"struct",members:[{name:"sender",type:"core::starknet::contract_address::ContractAddress",kind:"key"},{name:"amount",type:"core::integer::u256",kind:"data"},{name:"new_balance",type:"core::integer::u256",kind:"data"}]},{type:"event",name:"workshop_frontend::HelloStarknet::Event",kind:"enum",variants:[{name:"BalanceIncreased",type:"workshop_frontend::HelloStarknet::BalanceIncreased",kind:"nested"}]}];var d={src:"/Puppet//_next/static/media/puppet_preview.82f41b7d.png"},u={src:"/Puppet//_next/static/media/gizmo_preview.1253c5ed.png"},m={src:"/Puppet//_next/static/media/versus.b298df6b.png"},p=a(9767);c()(()=>a.e(420).then(a.bind(a,9420)),{loadableGenerated:{webpack:()=>[9420]},ssr:!1});var f=()=>{let{data:e,isLoading:t,isError:a}=(0,l.Ov)({blockIdentifier:"latest"}),{address:s}=(0,l.mA)(),{isLoading:c,isError:f,error:h,data:g}=(0,l.KQ)({address:s,watch:!0}),b="0x1c758616421a10f9df071a5d985c72e3907cf98d553204cf8dee354647c736",{data:_,refetch:x,isError:y,isLoading:v,error:j}=(0,l.uT)({functionName:"get_balance",args:[],abi:o,address:b,watch:!0,refetchInterval:1e3}),[k,N]=(0,r.useState)(0),{contract:P}=(0,l.cq)({abi:o,address:b}),w=(0,r.useMemo)(()=>{if(!s||!P)return[];let e=k||0;return[P.populate("increase_balance",[e])]},[P,s,k]),{send:E,data:C,isPending:S}=(0,l.pQ)({calls:w}),{data:O,status:I,isLoading:M,isError:T,error:L}=(0,l.VS)({hash:null==C?void 0:C.transaction_hash,watch:!0}),A=(0,r.useMemo)(()=>{if(P)try{return P.populate("reset_balance")}catch(e){console.error("Error populating reset_balance call:",e);return}},[P]),{send:R,isPending:B,data:z}=(0,l.pQ)({calls:A?[A]:[]}),G=(0,r.useMemo)(()=>new i.Gf({nodeUrl:p.env.NEXT_PUBLIC_RPC_URL}),[]),[U,H]=(0,r.useState)([]),D=(0,r.useRef)(0),{data:q}=(0,l.Ov)({refetchInterval:3e3}),F=(0,r.useCallback)(async(e,t)=>{if(!(t<=D.current))try{let a=D.current+1,n=await G.getEvents({address:e.address,from_block:{block_number:a},to_block:{block_number:t},chunk_size:500});n&&n.events&&H(e=>[...e,...n.events]),D.current=t}catch(e){console.error("Error checking for events:",e)}},[G]);(0,r.useEffect)(()=>{P&&q&&F(P,q)},[P,q,F]),(0,r.useMemo)(()=>[...U].reverse().slice(0,5),[U]);let{connect:Q,connectors:V}=(0,l.$4)(),{disconnect:W}=(0,l.qL)(),{address:K}=(0,l.mA)(),[X,Y]=(0,r.useState)(!0),[Z,$]=(0,r.useState)(!1),[J,ee]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=setTimeout(()=>{$(!0),setTimeout(()=>Y(!1),1e3)},2e3);return()=>clearTimeout(e)},[]),(0,n.jsx)("div",{className:"game-screen",style:{opacity:Z?1:0},children:J?(0,n.jsxs)("div",{className:"screen",children:[(0,n.jsx)("div",{className:"rotate-message",children:"PLEASE TURN YOUR DEVICE INTO LANDSCAPE MODE."}),(0,n.jsxs)("div",{className:"game-container",children:[(0,n.jsx)("div",{className:"back-button",children:(0,n.jsx)("img",{src:"img/back.png",alt:"Back"})}),(0,n.jsxs)("div",{className:"character-select-container",children:[(0,n.jsxs)("div",{id:"puppet-selector",className:"character-selector",children:[(0,n.jsx)("img",{src:"img/small_puppet.png",alt:"Puppet"}),(0,n.jsx)("h3",{children:"PUPPET"}),(0,n.jsx)("p",{className:"character-description",children:"55 (67%)"})]}),(0,n.jsxs)("div",{id:"gizmo-selector",className:"character-selector",children:[(0,n.jsx)("img",{src:"img/small_gizmo.png",alt:"Gizmo"}),(0,n.jsx)("h3",{children:"GIZMO"}),(0,n.jsx)("p",{className:"character-description",children:"55 (67%)"})]})]}),(0,n.jsx)("div",{className:"select-container",children:(0,n.jsx)("img",{className:"select-svg",src:"img/select.png",alt:"Select"})})]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"character left-character",children:[(0,n.jsx)("div",{className:"character-name",children:"Puppet"}),(0,n.jsx)("img",{src:d.src,className:"App-left-character",alt:"Left Character"})]}),(0,n.jsxs)("div",{className:"vs-container",children:[(0,n.jsx)("img",{src:m.src,className:"App-vs",alt:"VS"}),(0,n.jsxs)("div",{className:"play-button-container",children:[(0,n.jsx)("button",{className:"start-game-button-text",onClick:()=>{K?(alert("Wallet Address: ".concat(K)),ee(!0)):alert("Please connect your wallet")},children:"START GAME"}),V.map((e,t)=>(0,n.jsx)("button",{className:"play-button",onClick:()=>Q({connector:e}),children:K?"CONNECTED":"CONNECT"},t))]})]}),(0,n.jsxs)("div",{className:"character right-character",children:[(0,n.jsx)("div",{className:"character-name",children:"Gizmo"}),(0,n.jsx)("img",{src:u.src,className:"App-right-character",alt:"Right Character"})]})]})})}}},function(e){e.O(0,[255,125,357,971,23,744],function(){return e(e.s=9013)}),_N_E=e.O()}]);