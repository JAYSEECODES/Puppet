(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{6267:function(e,t,r){Promise.resolve().then(r.t.bind(r,4811,23)),Promise.resolve().then(r.t.bind(r,2778,23)),Promise.resolve().then(r.bind(r,8450))},5593:function(e,t,r){"use strict";r.d(t,{vL:function(){return A}}),(n=a||(a={})).Call="call",n.Reply="reply",n.Syn="syn",n.SynAck="synAck",n.Ack="ack",(o=c||(c={})).Fulfilled="fulfilled",o.Rejected="rejected",(i=s||(s={})).ConnectionDestroyed="ConnectionDestroyed",i.ConnectionTimeout="ConnectionTimeout",i.NoIframeSrc="NoIframeSrc",(l||(l={})).DataCloneError="DataCloneError",(d||(d={})).Message="message";var n,o,i,a,c,s,l,d,u=(e,t)=>{let r=[],n=!1;return{destroy(o){n||(n=!0,t(`${e}: Destroying connection`),r.forEach(e=>{e(o)}))},onDestroy(e){n?e():r.push(e)}}},p=e=>(...t)=>{e&&console.log("[Penpal]",...t)};let f={"http:":"80","https:":"443"},h=/^(https?:)?\/\/([^/:]+)?(:(\d+))?/,m=["file:","data:"];var g=e=>{let t,r,n;if(e&&m.find(t=>e.startsWith(t)))return"null";let o=document.location,i=h.exec(e);i?(t=i[1]?i[1]:o.protocol,r=i[2],n=i[4]):(t=o.protocol,r=o.hostname,n=o.port);let a=n&&n!==f[t]?`:${n}`:"";return`${t}//${r}${a}`};let y=({name:e,message:t,stack:r})=>({name:e,message:t,stack:r}),v=e=>{let t=Error();return Object.keys(e).forEach(r=>t[r]=e[r]),t};var w=(e,t,r)=>{let{localName:n,local:o,remote:i,originForSending:s,originForReceiving:u}=e,p=!1,f=e=>{if(e.source!==i||e.data.penpal!==a.Call)return;if("*"!==u&&e.origin!==u){r(`${n} received message from origin ${e.origin} which did not match expected origin ${u}`);return}let{methodName:o,args:d,id:f}=e.data;r(`${n}: Received ${o}() call`);let h=e=>t=>{if(r(`${n}: Sending ${o}() reply`),p){r(`${n}: Unable to send ${o}() reply due to destroyed connection`);return}let d={penpal:a.Reply,id:f,resolution:e,returnValue:t};e===c.Rejected&&t instanceof Error&&(d.returnValue=y(t),d.returnValueIsError=!0);try{i.postMessage(d,s)}catch(e){if(e.name===l.DataCloneError){let t={penpal:a.Reply,id:f,resolution:c.Rejected,returnValue:y(e),returnValueIsError:!0};i.postMessage(t,s)}throw e}};new Promise(r=>r(t[o].call(t,e.origin).apply(t,d))).then(h(c.Fulfilled),h(c.Rejected))};return o.addEventListener(d.Message,f),()=>{p=!0,o.removeEventListener(d.Message,f)}};let _=0;var k=()=>++_;let $=e=>e?e.split("."):[],E=e=>e.join("."),C=(e,t)=>{let r=$(t||"");return r.push(e),E(r)},P=(e,t,r)=>{let n=$(t);return n.reduce((e,t,o)=>(void 0===e[t]&&(e[t]={}),o===n.length-1&&(e[t]=r),e[t]),e),e},b=(e,t)=>{let r={};return Object.keys(e).forEach(n=>{let o=e[n],i=C(n,t);"object"==typeof o&&Object.assign(r,b(o,i)),"function"==typeof o&&(r[i]=o)}),r},S=e=>{let t={};for(let r in e)P(t,r,e[r]);return t};var R=(e,t,r,n,o)=>{let{localName:i,local:l,remote:u,originForSending:p,originForReceiving:f}=t,h=!1;o(`${i}: Connecting call sender`);let m=e=>(...t)=>{let r;o(`${i}: Sending ${e}() call`);try{u.closed&&(r=!0)}catch(e){r=!0}if(r&&n(),h){let t=Error(`Unable to send ${e}() call due to destroyed connection`);throw t.code=s.ConnectionDestroyed,t}return new Promise((r,n)=>{let s=k(),h=t=>{if(t.source!==u||t.data.penpal!==a.Reply||t.data.id!==s)return;if("*"!==f&&t.origin!==f){o(`${i} received message from origin ${t.origin} which did not match expected origin ${f}`);return}let p=t.data;o(`${i}: Received ${e}() reply`),l.removeEventListener(d.Message,h);let m=p.returnValue;p.returnValueIsError&&(m=v(m)),(p.resolution===c.Fulfilled?r:n)(m)};l.addEventListener(d.Message,h);let m={penpal:a.Call,id:s,methodName:e,args:t};u.postMessage(m,p)})};return Object.assign(e,S(r.reduce((e,t)=>(e[t]=m(t),e),{}))),()=>{h=!0}},j=(e,t,r,n,o)=>{let i,a;let{destroy:c,onDestroy:s}=n,l={};return n=>{if("*"!==t&&n.origin!==t){o(`Parent: Handshake - Received ACK message from origin ${n.origin} which did not match expected origin ${t}`);return}o("Parent: Handshake - Received ACK");let d={localName:"Parent",local:window,remote:n.source,originForSending:r,originForReceiving:t};return i&&i(),s(i=w(d,e,o)),a&&a.forEach(e=>{delete l[e]}),s(R(l,d,a=n.data.methodNames,c,o)),l}},I=(e,t,r,n)=>o=>{if(!o.source)return;if("*"!==r&&o.origin!==r){e(`Parent: Handshake - Received SYN message from origin ${o.origin} which did not match expected origin ${r}`);return}e("Parent: Handshake - Received SYN, responding with SYN-ACK");let i={penpal:a.SynAck,methodNames:Object.keys(t)};o.source.postMessage(i,n)},N=(e,t)=>{let{destroy:r,onDestroy:n}=t,o=setInterval(()=>{e.isConnected||(clearInterval(o),r())},6e4);n(()=>{clearInterval(o)})},x=(e,t)=>{let r;return void 0!==e&&(r=window.setTimeout(()=>{let r=Error(`Connection timed out after ${e}ms`);r.code=s.ConnectionTimeout,t(r)},e)),()=>{clearTimeout(r)}},T=e=>{if(!e.src&&!e.srcdoc){let e=Error("Iframe must have src or srcdoc property defined.");throw e.code=s.NoIframeSrc,e}},A=e=>{let{iframe:t,methods:r={},childOrigin:n,timeout:o,debug:i=!1}=e,c=p(i),s=u("Parent",c),{onDestroy:l,destroy:f}=s;n||(T(t),n=g(t.src));let h="null"===n?"*":n,m=b(r),y=I(c,m,n,h),v=j(m,n,h,s,c);return{promise:new Promise((e,r)=>{let n=x(o,f),i=r=>{if(r.source===t.contentWindow&&r.data){if(r.data.penpal===a.Syn){y(r);return}if(r.data.penpal===a.Ack){let t=v(r);t&&(n(),e(t));return}}};window.addEventListener(d.Message,i),c("Parent: Awaiting handshake"),N(t,s),l(e=>{window.removeEventListener(d.Message,i),e&&r(e)})}),destroy(){f()}}}},8450:function(e,t,r){"use strict";r.d(t,{Providers:function(){return d}});var n=r(7437),o=r(2648),i=r(8971),a=class extends i._k{controller;constructor(e){let t=new o.ZP(e);super({options:{id:t.id,name:t.name}}),this.controller=t}async disconnect(){this.controller.disconnect()}username(){return this.controller.username()}async delegateAccount(){return await this.controller.delegateAccount()}static fromConnectors(e){let t=e.find(e=>"controller"===e.id);if(!t)throw Error("Controller connector not found");return t}},c=r(8347),s=r(3787);let l={contracts:{"0x0409f17fbe2145d007c6d18731fa9919e943a60230fe5c2647f702615a49e4f9":{methods:[{name:"Create Game",entrypoint:"create_game",description:"The create_game function initializes a new match."},{name:"Join Game",entrypoint:"join_game",description:"The join_game function connects you to a selected match."},{name:"Throw",entrypoint:"throw",description:"The throw functions is used for making your throw on chain."},{name:"Game Winner",entrypoint:"game_winner",description:"The game_winner function is used for checking selected game's winner."},{name:"Player Health",entrypoint:"player_health",description:"The player_health function is used for checking selected player's health."},{name:"Get First Player",entrypoint:"get_first_player",description:"The get_first_player function is used for checking selected game's first player properties."},{name:"Get Second Player",entrypoint:"get_second_player",description:"The get_second_player function is used for checking selected game's second player properties."}]}}};function d(e){let{children:t}=e,r=[new a({policies:l,chains:[{rpcUrl:"https://api.cartridge.gg/x/starknet/sepolia"},{rpcUrl:"https://api.cartridge.gg/x/starknet/mainnet"}],defaultChainId:c._G.StarknetChainId.SN_SEPOLIA,tokens:{erc20:["0x0124aeb495b947201f5fac96fd1138e326ad86195b98df6dec9009158a533b49"]}})];return(0,n.jsx)(i.dY,{chains:[s.Fo],provider:(0,i.R0)({rpc:e=>({nodeUrl:"https://api.cartridge.gg/x/starknet/sepolia"})}),connectors:r,explorer:i.L4,children:t})}},2778:function(){},4811:function(e){e.exports={style:{fontFamily:"'__Inter_ccdd6f', '__Inter_Fallback_ccdd6f'",fontStyle:"normal"},className:"__className_ccdd6f"}}},function(e){e.O(0,[2,255,125,942,917,971,117,744],function(){return e(e.s=6267)}),_N_E=e.O()}]);