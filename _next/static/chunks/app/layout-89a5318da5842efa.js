(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{6267:function(e,t,r){Promise.resolve().then(r.t.bind(r,4811,23)),Promise.resolve().then(r.t.bind(r,2778,23)),Promise.resolve().then(r.bind(r,8450))},5593:function(e,t,r){"use strict";r.d(t,{vL:function(){return M}}),(n=a||(a={})).Call="call",n.Reply="reply",n.Syn="syn",n.SynAck="synAck",n.Ack="ack",(o=s||(s={})).Fulfilled="fulfilled",o.Rejected="rejected",(i=c||(c={})).ConnectionDestroyed="ConnectionDestroyed",i.ConnectionTimeout="ConnectionTimeout",i.NoIframeSrc="NoIframeSrc",(l||(l={})).DataCloneError="DataCloneError",(d||(d={})).Message="message";var n,o,i,a,s,c,l,d,p=(e,t)=>{let r=[],n=!1;return{destroy(o){n||(n=!0,t(`${e}: Destroying connection`),r.forEach(e=>{e(o)}))},onDestroy(e){n?e():r.push(e)}}},u=e=>(...t)=>{e&&console.log("[Penpal]",...t)};let f={"http:":"80","https:":"443"},m=/^(https?:)?\/\/([^/:]+)?(:(\d+))?/,g=["file:","data:"];var h=e=>{let t,r,n;if(e&&g.find(t=>e.startsWith(t)))return"null";let o=document.location,i=m.exec(e);i?(t=i[1]?i[1]:o.protocol,r=i[2],n=i[4]):(t=o.protocol,r=o.hostname,n=o.port);let a=n&&n!==f[t]?`:${n}`:"";return`${t}//${r}${a}`};let y=({name:e,message:t,stack:r})=>({name:e,message:t,stack:r}),v=e=>{let t=Error();return Object.keys(e).forEach(r=>t[r]=e[r]),t};var k=(e,t,r)=>{let{localName:n,local:o,remote:i,originForSending:c,originForReceiving:p}=e,u=!1,f=e=>{if(e.source!==i||e.data.penpal!==a.Call)return;if("*"!==p&&e.origin!==p){r(`${n} received message from origin ${e.origin} which did not match expected origin ${p}`);return}let{methodName:o,args:d,id:f}=e.data;r(`${n}: Received ${o}() call`);let m=e=>t=>{if(r(`${n}: Sending ${o}() reply`),u){r(`${n}: Unable to send ${o}() reply due to destroyed connection`);return}let d={penpal:a.Reply,id:f,resolution:e,returnValue:t};e===s.Rejected&&t instanceof Error&&(d.returnValue=y(t),d.returnValueIsError=!0);try{i.postMessage(d,c)}catch(e){if(e.name===l.DataCloneError){let t={penpal:a.Reply,id:f,resolution:s.Rejected,returnValue:y(e),returnValueIsError:!0};i.postMessage(t,c)}throw e}};new Promise(r=>r(t[o].call(t,e.origin).apply(t,d))).then(m(s.Fulfilled),m(s.Rejected))};return o.addEventListener(d.Message,f),()=>{u=!0,o.removeEventListener(d.Message,f)}};let C=0;var w=()=>++C;let $=e=>e?e.split("."):[],_=e=>e.join("."),E=(e,t)=>{let r=$(t||"");return r.push(e),_(r)},b=(e,t,r)=>{let n=$(t);return n.reduce((e,t,o)=>(void 0===e[t]&&(e[t]={}),o===n.length-1&&(e[t]=r),e[t]),e),e},A=(e,t)=>{let r={};return Object.keys(e).forEach(n=>{let o=e[n],i=E(n,t);"object"==typeof o&&Object.assign(r,A(o,i)),"function"==typeof o&&(r[i]=o)}),r},P=e=>{let t={};for(let r in e)b(t,r,e[r]);return t};var S=(e,t,r,n,o)=>{let{localName:i,local:l,remote:p,originForSending:u,originForReceiving:f}=t,m=!1;o(`${i}: Connecting call sender`);let g=e=>(...t)=>{let r;o(`${i}: Sending ${e}() call`);try{p.closed&&(r=!0)}catch(e){r=!0}if(r&&n(),m){let t=Error(`Unable to send ${e}() call due to destroyed connection`);throw t.code=c.ConnectionDestroyed,t}return new Promise((r,n)=>{let c=w(),m=t=>{if(t.source!==p||t.data.penpal!==a.Reply||t.data.id!==c)return;if("*"!==f&&t.origin!==f){o(`${i} received message from origin ${t.origin} which did not match expected origin ${f}`);return}let u=t.data;o(`${i}: Received ${e}() reply`),l.removeEventListener(d.Message,m);let g=u.returnValue;u.returnValueIsError&&(g=v(g)),(u.resolution===s.Fulfilled?r:n)(g)};l.addEventListener(d.Message,m);let g={penpal:a.Call,id:c,methodName:e,args:t};p.postMessage(g,u)})};return Object.assign(e,P(r.reduce((e,t)=>(e[t]=g(t),e),{}))),()=>{m=!0}},R=(e,t,r,n,o)=>{let i,a;let{destroy:s,onDestroy:c}=n,l={};return n=>{if("*"!==t&&n.origin!==t){o(`Parent: Handshake - Received ACK message from origin ${n.origin} which did not match expected origin ${t}`);return}o("Parent: Handshake - Received ACK");let d={localName:"Parent",local:window,remote:n.source,originForSending:r,originForReceiving:t};return i&&i(),c(i=k(d,e,o)),a&&a.forEach(e=>{delete l[e]}),c(S(l,d,a=n.data.methodNames,s,o)),l}},I=(e,t,r,n)=>o=>{if(!o.source)return;if("*"!==r&&o.origin!==r){e(`Parent: Handshake - Received SYN message from origin ${o.origin} which did not match expected origin ${r}`);return}e("Parent: Handshake - Received SYN, responding with SYN-ACK");let i={penpal:a.SynAck,methodNames:Object.keys(t)};o.source.postMessage(i,n)},N=(e,t)=>{let{destroy:r,onDestroy:n}=t,o=setInterval(()=>{e.isConnected||(clearInterval(o),r())},6e4);n(()=>{clearInterval(o)})},j=(e,t)=>{let r;return void 0!==e&&(r=window.setTimeout(()=>{let r=Error(`Connection timed out after ${e}ms`);r.code=c.ConnectionTimeout,t(r)},e)),()=>{clearTimeout(r)}},x=e=>{if(!e.src&&!e.srcdoc){let e=Error("Iframe must have src or srcdoc property defined.");throw e.code=c.NoIframeSrc,e}},M=e=>{let{iframe:t,methods:r={},childOrigin:n,timeout:o,debug:i=!1}=e,s=u(i),c=p("Parent",s),{onDestroy:l,destroy:f}=c;n||(x(t),n=h(t.src));let m="null"===n?"*":n,g=A(r),y=I(s,g,n,m),v=R(g,n,m,c,s);return{promise:new Promise((e,r)=>{let n=j(o,f),i=r=>{if(r.source===t.contentWindow&&r.data){if(r.data.penpal===a.Syn){y(r);return}if(r.data.penpal===a.Ack){let t=v(r);t&&(n(),e(t));return}}};window.addEventListener(d.Message,i),s("Parent: Awaiting handshake"),N(t,c),l(e=>{window.removeEventListener(d.Message,i),e&&r(e)})}),destroy(){f()}}}},8450:function(e,t,r){"use strict";r.d(t,{Providers:function(){return d}});var n=r(7437),o=r(2648),i=r(8971),a=class extends i._k{controller;constructor(e){let t=new o.ZP(e);super({options:{id:t.id,name:t.name}}),this.controller=t}async disconnect(){this.controller.disconnect()}username(){return this.controller.username()}async delegateAccount(){return await this.controller.delegateAccount()}static fromConnectors(e){let t=e.find(e=>"controller"===e.id);if(!t)throw Error("Controller connector not found");return t}},s=r(8347),c=r(3787);let l={contracts:{"0x0409f17fbe2145d007c6d18731fa9919e943a60230fe5c2647f702615a49e4f9":{methods:[{name:"Create Game",entrypoint:"create_game",description:"Approve spending of tokens"},{name:"Create Game",entrypoint:"join_game",description:"Approve spending of tokens"},{name:"Create Game",entrypoint:"throw",description:"Approve spending of tokens"},{name:"Create Game",entrypoint:"game_winner",description:"Approve spending of tokens"},{name:"Create Game",entrypoint:"player_health",description:"Approve spending of tokens"},{name:"Create Game",entrypoint:"get_first_player",description:"Approve spending of tokens"},{name:"Create Game",entrypoint:"get_second_player",description:"Approve spending of tokens"}]}}};function d(e){let{children:t}=e,r=[new a({policies:l,chains:[{rpcUrl:"https://api.cartridge.gg/x/starknet/sepolia"},{rpcUrl:"https://api.cartridge.gg/x/starknet/mainnet"}],defaultChainId:s._G.StarknetChainId.SN_SEPOLIA,tokens:{erc20:["0x0124aeb495b947201f5fac96fd1138e326ad86195b98df6dec9009158a533b49"]}})];return(0,n.jsx)(i.dY,{chains:[c.Fo],provider:(0,i.R0)({rpc:e=>({nodeUrl:"https://api.cartridge.gg/x/starknet/sepolia"})}),connectors:r,explorer:i.L4,children:t})}},2778:function(){},4811:function(e){e.exports={style:{fontFamily:"'__Inter_ccdd6f', '__Inter_Fallback_ccdd6f'",fontStyle:"normal"},className:"__className_ccdd6f"}}},function(e){e.O(0,[2,255,125,942,917,971,117,744],function(){return e(e.s=6267)}),_N_E=e.O()}]);