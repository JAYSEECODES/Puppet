(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9013:function(e,t,n){Promise.resolve().then(n.bind(n,2736))},551:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let a=n(1609);n(7437),n(2265);let r=a._(n(148));function s(e,t){var n;let a={loading:e=>{let{error:t,isLoading:n,pastDelay:a}=e;return null}};"function"==typeof e&&(a.loader=e);let s={...a,...t};return(0,r.default)({...s,modules:null==(n=s.loadableGenerated)?void 0:n.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},912:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return r}});let a=n(5592);function r(e){let{reason:t,children:n}=e;if("undefined"==typeof window)throw new a.BailoutToCSRError(t);return n}},148:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let a=n(7437),r=n(2265),s=n(912),l=n(1481);function c(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(c(()=>null)),loading:null,ssr:!0},i=function(e){let t={...o,...e},n=(0,r.lazy)(()=>t.loader().then(c)),i=t.loading;function u(e){let c=i?(0,a.jsx)(i,{isLoading:!0,pastDelay:!0,error:null}):null,o=t.ssr?(0,a.jsxs)(a.Fragment,{children:["undefined"==typeof window?(0,a.jsx)(l.PreloadCss,{moduleIds:t.modules}):null,(0,a.jsx)(n,{...e})]}):(0,a.jsx)(s.BailoutToCSR,{reason:"next/dynamic",children:(0,a.jsx)(n,{...e})});return(0,a.jsx)(r.Suspense,{fallback:c,children:o})}return u.displayName="LoadableComponent",u}},1481:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return s}});let a=n(7437),r=n(8512);function s(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let n=(0,r.getExpectedRequestStore)("next/dynamic css"),s=[];if(n.reactLoadableManifest&&t){let e=n.reactLoadableManifest;for(let n of t){if(!e[n])continue;let t=e[n].files.filter(e=>e.endsWith(".css"));s.push(...t)}}return 0===s.length?null:(0,a.jsx)(a.Fragment,{children:s.map(e=>(0,a.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:n.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},2736:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var a=n(7437),r=n(2265),s=n(551),l=n.n(s),c=n(718),o=n(4624);let i=[{type:"impl",name:"HelloStarknetImpl",interface_name:"workshop_frontend::IHelloStarknet"},{type:"struct",name:"core::integer::u256",members:[{name:"low",type:"core::integer::u128"},{name:"high",type:"core::integer::u128"}]},{type:"interface",name:"workshop_frontend::IHelloStarknet",items:[{type:"function",name:"increase_balance",inputs:[{name:"amount",type:"core::integer::u256"}],outputs:[],state_mutability:"external"},{type:"function",name:"get_balance",inputs:[],outputs:[{type:"core::integer::u256"}],state_mutability:"view"},{type:"function",name:"reset_balance",inputs:[],outputs:[],state_mutability:"external"}]},{type:"event",name:"workshop_frontend::HelloStarknet::BalanceIncreased",kind:"struct",members:[{name:"sender",type:"core::starknet::contract_address::ContractAddress",kind:"key"},{name:"amount",type:"core::integer::u256",kind:"data"},{name:"new_balance",type:"core::integer::u256",kind:"data"}]},{type:"event",name:"workshop_frontend::HelloStarknet::Event",kind:"enum",variants:[{name:"BalanceIncreased",type:"workshop_frontend::HelloStarknet::BalanceIncreased",kind:"nested"}]}];var u=n(9767);l()(()=>n.e(420).then(n.bind(n,9420)),{loadableGenerated:{webpack:()=>[9420]},ssr:!1});var d=()=>{let{data:e,isLoading:t,isError:n}=(0,c.Ov)({blockIdentifier:"latest"}),{address:s}=(0,c.mA)(),{isLoading:l,isError:d,error:f,data:p}=(0,c.KQ)({address:s,watch:!0}),m="0x1c758616421a10f9df071a5d985c72e3907cf98d553204cf8dee354647c736",{data:h,refetch:b,isError:_,isLoading:y,error:g}=(0,c.uT)({functionName:"get_balance",args:[],abi:i,address:m,watch:!0,refetchInterval:1e3}),[v,k]=(0,r.useState)(0),{contract:x}=(0,c.cq)({abi:i,address:m}),j=(0,r.useMemo)(()=>{if(!s||!x)return[];let e=v||0;return[x.populate("increase_balance",[e])]},[x,s,v]),{send:w,data:P,isPending:N}=(0,c.pQ)({calls:j}),{data:C,status:E,isLoading:S,isError:O,error:I}=(0,c.VS)({hash:null==P?void 0:P.transaction_hash,watch:!0}),M=(0,r.useMemo)(()=>{if(x)try{return x.populate("reset_balance")}catch(e){console.error("Error populating reset_balance call:",e);return}},[x]),{send:L,isPending:T,data:R}=(0,c.pQ)({calls:M?[M]:[]}),A=(0,r.useMemo)(()=>new o.Gf({nodeUrl:u.env.NEXT_PUBLIC_RPC_URL}),[]),[B,H]=(0,r.useState)([]),G=(0,r.useRef)(0),{data:z}=(0,c.Ov)({refetchInterval:3e3}),U=(0,r.useCallback)(async(e,t)=>{if(!(t<=G.current))try{let n=G.current+1,a=await A.getEvents({address:e.address,from_block:{block_number:n},to_block:{block_number:t},chunk_size:500});a&&a.events&&H(e=>[...e,...a.events]),G.current=t}catch(e){console.error("Error checking for events:",e)}},[A]);(0,r.useEffect)(()=>{x&&z&&U(x,z)},[x,z,U]),(0,r.useMemo)(()=>[...B].reverse().slice(0,5),[B]);let{connect:q,connectors:Q}=(0,c.$4)(),{disconnect:D}=(0,c.qL)(),{address:F}=(0,c.mA)(),[V,W]=(0,r.useState)(!0),[K,X]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=setTimeout(()=>{X(!0),setTimeout(()=>W(!1),1e3)},2e3);return()=>clearTimeout(e)},[]),(0,a.jsxs)("div",{className:"game-screen",style:{opacity:K?1:0},children:[(0,a.jsxs)("div",{className:"character left-character",children:[(0,a.jsx)("div",{className:"character-name",children:"Puppet"}),(0,a.jsx)("img",{src:"/Puppet//_next/static/media/puppet_preview.82f41b7d.png",className:"App-left-character",alt:"Left Character"})]}),(0,a.jsxs)("div",{className:"vs-container",children:[(0,a.jsx)("img",{src:"/Puppet//_next/static/media/versus.b298df6b.png",className:"App-vs",alt:"VS"}),(0,a.jsxs)("div",{className:"play-button-container",children:[(0,a.jsx)("button",{className:"start-game-button-text",onClick:()=>{F?alert("Wallet Address: ".concat(F)):alert("Please connect your wallet")},children:"START GAME"}),Q.map((e,t)=>(0,a.jsx)("button",{className:"play-button",onClick:()=>q({connector:e}),children:F?"DISCONNECT":"CONNECT"},t))]})]}),(0,a.jsxs)("div",{className:"character right-character",children:[(0,a.jsx)("div",{className:"character-name",children:"Gizmo"}),(0,a.jsx)("img",{src:"/Puppet//_next/static/media/gizmo_preview.1253c5ed.png",className:"App-right-character",alt:"Right Character"})]})]})}}},function(e){e.O(0,[255,125,357,971,23,744],function(){return e(e.s=9013)}),_N_E=e.O()}]);